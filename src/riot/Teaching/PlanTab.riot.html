<PlanTab>
    <TabSection
        class="{'first-section'}"
        icon="{'brain'}"
        title="{TRANSLATIONS.learningOutcomes()}"
        section={ plan.outcomes }
    ></TabSection>
    <TabSection
        class="{'middle-section'}"
        icon="{'binocular'}"
        title="{TRANSLATIONS.overview()}"
        section={ plan.overview }
    ></TabSection>
    <TabSection
        class="{'last-section'}"
        icon="{'clipboard-pencil'}"
        title="{TRANSLATIONS.preparation()}"
        section={ plan.preparation }
    ></TabSection>
    <div if="{planTips}" class="card-frame">
        <div class="card-content">
            <h4>{planTips.title}</h4>
            <button onclick="{openTips}" class="btn-primary">{ TRANSLATIONS.viewTips() }</button>
        </div>
        <div class="card-shadow"></div>
        <div class="card-shadow"></div>
    </div>
    <button class="btn-secondary" onclick="{goToTeach}">
        { TRANSLATIONS.ready() }
    </button>
    <script>
        import TabSection from "RiotTags/Teaching/TabSection.riot.html";
        import { getRoute } from "ReduxImpl/Interface";

        function PlanTab() { return {
            TRANSLATIONS: {
                learningOutcomes: () => gettext("Learning outcomes"),
                overview: () => gettext("Overview"),
                preparation: () => gettext("Preparation tasks & materials"),
                ready: () => gettext("Ready to teach"),
                viewTips: () => gettext("View all tips"),
            },

            get route() {
                return getRoute();
            },

            get plan() {
                return this.route.page.plan;
            },

            get planTips() {
                return this.route.page.plan_tips;
            },

            openTips() {
                location.hash = `#${this.planTips.loc_hash}:1:plan`;
            },

            goToTeach() {
                this.props.selectTab("teach");
                window.scroll(0, 0);
            },
        }}

        PlanTab.components = {
            tabsection: TabSection,
        };

        export default PlanTab;
    </script>
</PlanTab>
