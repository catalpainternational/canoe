<DiscussionReply id="{props.comment.id}">
    <UserAvatar username="{props.comment.user_username}">
        <p>{props.comment.initials}</p>
    </UserAvatar>

    <div class="comment-block">
        <div class="meta">
            <a>{props.comment.user_username}</a>
            <p>&middot;</p>
            <p>{state.elapsedTime}</p>
        </div>
        <p class="comment">
            {props.comment.comment}
        </p>
        <div class="controls">
            <p onclick="{flagInappropriate}">{TRANSLATIONS.flag()} <span class="flag"></span></p>
        </div>
    </div>

    <script>
        import UserAvatar from "RiotTags/Components/UserAvatar.riot.html";
        import {getElapsedTime} from "js/utilities";

        export default {
            components: {
                useravatar: UserAvatar,
            },

            state: {
                elapsedTime: '',
            },

            TRANSLATIONS: {
                flag: () => gettext("Flag as inappropriate"),
            },

            onMounted(props, state) {
                this.getDate();
            },

            getDate() {
                this.update({ elapsedTime: getElapsedTime(this.props.comment.date_created) });
                setTimeout(this.getDate, 60000);
            },

            flagInappropriate() {
                this.props.flagInappropriate(this.props.comment);
            }
        };

    </script>
</DiscussionReply>
