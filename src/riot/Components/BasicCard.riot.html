<BasicCard>
    <ImageWrapper
        if="{ props.card.image }"
        image="{ props.card.image }"
    >
    </ImageWrapper>

    <h3 if="{ props.card.header }">{ props.card.header }</h3>

    <div class="richtext" />

    <script>
        import ImageWrapper from "RiotTags/Components/ImageWrapper.riot.html";
        import { externalLinks } from "js/utilities";

        export default {
            components: {
                imagewrapper: ImageWrapper,
            },

            setInnerHTML() {
                this.$(".richtext").innerHTML = this.props.card.content;
                externalLinks(this.$(".richtext"));
            },

            onMounted() {
                this.setInnerHTML();
            },

            onUpdated() {
                this.setInnerHTML();
            },
        };
    </script>
</BasicCard>
