<Card>
    <a class="card {props.status}" href="#{props.link}">
        <div class="card-image">
            <img crossorigin="anonymous" src="{getCardImageUrl()}" class="card-hero-image" />
            <span class="card-status"><span class="icon"></span></span>
        </div>
        <div class="card-title">
            <h5 class="clamp-lines">{props.title}</h5>
            <progress
                if="{props.status === 'in-progress'}"
                value="{props.progressValue}"
                max="{props.progressMax}"
            ></progress>
            <progress if="{props.status === 'complete'}" value="1" max="1"></progress>
        </div>
    </a>
    <script>
        import { getMediaUrl } from "js/utilities";
        import stockImg1 from "img/stock_image_1.png";
        import stockImg2 from "img/stock_image_2.png";
        import stockImg3 from "img/stock_image_3.png";
        import stockImg4 from "img/stock_image_4.png";
        import stockImg5 from "img/stock_image_5.png";

        export default {
            getCardImageUrl() {
                const stockImages = [stockImg1, stockImg2, stockImg3, stockImg4, stockImg5];
                const fallbackImg = stockImages[Math.floor(Math.random() * stockImages.length)];

                return this.props.imageUrl ? `${getMediaUrl(this.props.imageUrl)}?cardImageFallback=${fallbackImg}` : fallbackImg;
            },
        };
    </script>
</Card>
