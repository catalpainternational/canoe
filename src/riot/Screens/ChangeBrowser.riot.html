<ChangeBrowser>
    <div if="{!state.isBrowserSupported}">
        <span class="site-logo"></span>
        <span class="login-image"></span>
        <p>{ TRANSLATIONS.sorry() }</p>
        <p>{ TRANSLATIONS.safari() }</p>
    </div>
    <script>
        import { storeBrowserSupport } from "ReduxImpl/Interface";
        const is_iOSChrome = navigator.userAgent.match('CriOS');

        export default {
            state: {
                isBrowserSupported: true,
            },

            TRANSLATIONS: {
                sorry: () => gettext(`We're sorry! We're still adding support for Asteroid on Chrome in iOS.`),
                safari: () => gettext('In the meantime please use Safari.'),
            },

            onMounted() {
                const isBrowserSupported = !is_iOSChrome;
                storeBrowserSupport(isBrowserSupported);
                this.update({ isBrowserSupported });
            },
        };
    </script>
</ChangeBrowser>
