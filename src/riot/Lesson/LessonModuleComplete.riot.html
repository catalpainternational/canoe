<LessonModuleComplete>
    <LessonFrame linkTo="{props.lessonId}">
        <div class="sun"></div>
        <div class="body">
            <h2>{ TRANSLATIONS.great() }</h2>
            <h3>{ moduleCompleteMessage() }</h3>
            <p>{ nextModuleMessage() }</p>
        </div>
        <div>
            <button class="btn-primary" onclick="{goToNextModule}">
                { TRANSLATIONS.continue_button() }
            </button>
            <button class="btn-secondary" onclick="{backToLessonPage}">
                { TRANSLATIONS.back_button() }
            </button>
        </div>
    </LessonFrame>

    <script>
        import LessonFrame from "RiotTags/Components/LessonFrame.riot.html";

        export default {
            TRANSLATIONS: {
                objectives: () => gettext("Objectives"),
                content: () => gettext("Content"),
                test: () => gettext("Test"),
                great: () => gettext("Great job!"),
                continue_button: () => gettext("Keep going"),
                back_button: () => gettext("Back to lesson overview"),
            },

            components: {
                lessonframe: LessonFrame,
            },

            goToNextModule() {
                location.hash = `#${this.props.lessonId}/${this.props.nextModule}/1`;
            },

            backToLessonPage() {
                location.hash = `#${this.props.lessonId}`;
            },

            moduleCompleteMessage() {
                // message on completing objectives, content or test ( %1 )
                return gettext(
                    "You've completed the %1",
                    this.TRANSLATIONS[this.props.module]().toLowerCase()
                );
            },

            nextModuleMessage() {
                // message to say what module is next ( %1 is content or test )
                return gettext(
                    "You're ready to start the %1.",
                    this.TRANSLATIONS[this.props.nextModule]().toLowerCase()
                );
            },
        };
    </script>
</LessonModuleComplete>
