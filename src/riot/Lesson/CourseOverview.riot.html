<CourseOverview>
    <CoursePage if="{!state.showExam}"></CoursePage>
    <CourseExam if="{state.showExam}"></CourseExam>

    <script>
        import CoursePage from "RiotTags/WagtailPages/CoursePage.riot.html";
        import CourseExam from "RiotTags/Lesson/CourseExam.riot.html";

        import { getRoute } from "ReduxImpl/Interface";

        const EXAM_MODULE = "exam";

        function CourseOverview() { return {

            onBeforeMount(props, state) {
                this.readHash();
            },
            onBeforeUpdate(props, state) {
                this.readHash();
            },
            readHash() {
                this.state.showExam = getRoute().riotHash === EXAM_MODULE;
            }

            /*
                const examCards = exam.map((card) => {
                    const { id, type, value } = card;
                    const { question, answers } = value;
                    return { id, type, question, answers };
                });
                this.update({ examCards });
            */
        }};

        CourseOverview.components = {
            coursepage: CoursePage,
            courseexam: CourseExam,
        };

        export default CourseOverview;
    </script>
</CourseOverview>
