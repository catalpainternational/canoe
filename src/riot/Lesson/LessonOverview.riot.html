<LessonOverview>
    <LessonContent lesson="{props.lesson}"></LessonContent>
    <LessonPage if="{!state.section}"></LessonPage>

    <script>
        import { getRoute } from "ReduxImpl/Interface";

        import LessonContent from "RiotTags/Lesson/LessonContent.riot.html";
        import LessonPage from "RiotTags/WagtailPages/LessonPage.riot.html";

        function readState() {
            const route = getRoute();
            const state = {
                section: route.riotHash[0],
            };
            return state;
        }

        function LessonOverview() { return {
            onBeforeMount(props, state) {
            },
            onBeforeUpdate(props, state) {
                this.state = {
                    ...readState(),
                }
            },
        }}

        LessonOverview.components = {
            lessoncontent: LessonContent,
            lessonpage: LessonPage,
        };

        export default LessonOverview;

    </script>
</LessonOverview>
