<LessonOverview>
    <!--
        check if you can remove these attribute references from LessonContent component
        if="{state.section === CONTENT}"
        module="{CONTENT}"
        nextModule="{TEST}"
    -->
    <LessonContent
        lesson="{props.lesson}"
    ></LessonContent>

    <LessonPage if="{!state.section}"></LessonPage>

    <script>
        import { getRoute } from "ReduxImpl/Interface";

        import LessonContent from "RiotTags/Lesson/LessonContent.riot.html";
        import LessonPage from "RiotTags/WagtailPages/LessonPage.riot.html";

        import { getHashPieces } from "js/Routing";

        function readState() {
            const route = getRoute();
            const state = {
                section: route.riotHash[0],
            };
            return state;
        }

        function LessonOverview() { return {

            CONTENT: "content",
            TEST: "test",

            onBeforeMount(props, state) {
            },
            onBeforeUpdate(props, state) {
                this.state = {
                    ...readState(),
                }
            },

        }}

        LessonOverview.components = {
            lessoncontent: LessonContent,
            lessonpage: LessonPage,
        };

        export default LessonOverview;

    </script>
</LessonOverview>
