<BeroHome>
    <GuestBanner></GuestBanner>

    <template if="{learningActivities}">
        <h4>{TRANSLATIONS.learning()}</h4>
        <div class="cards-container">
            <Card
                each="{topic in learningActivities}"
                contentItem="{topic}"
            ></Card>
        </div>
    </template>

    <template if="{courses}">
        <h4>{TRANSLATIONS.latestCourses()}</h4>
        <div class="cards-container">
            <Card
                each="{course in courses}"
                contentItem="{course}"
            ></Card>
        </div>
    </template>

    <template if="{courseCategories}">
        <h4>{TRANSLATIONS.courseCategories()}</h4>
        <div class="cards-container">
            <Card
                each="{category in courseCategories}"
                contentItem="{category}"
            ></Card>
        </div>
    </template>

    <template if="{resources}">
        <h4>{TRANSLATIONS.resources()}</h4>
        <div class="cards-container">
            <Card
                each="{resource in resources}"
                contentItem="{resource}"
            ></Card>
        </div>
    </template>

    <script>
        import { getRoute } from "ReduxImpl/Interface";

        import Card from "RiotTags/Components/Card.riot.html";
        import GuestBanner from "riot/Components/GuestBanner.riot.html";

        function BeroHome() {
            return {
                TRANSLATIONS: {
                    learning: () => gettext("Learning Activities"),
                    latestCourses: () => gettext("Latest Courses"),
                    courseCategories: () => gettext("Courses by Category"),
                    resources: () => gettext("Resources"),
                },

                get page() {
                    return getRoute().page;
                },

                get learningActivities () {
                    return this.page.learningActivities.topics;
                },

                get courses() {
                    // TODO fix the ordering of this so it matches ordering on courses homepage
                    return this.page.courses.courses;
                },

                get courseCategories () {
                    // TODO
                    return false;
                },

                get resources() {
                    return this.page.resources.resources;
                },
            };
        }

        BeroHome.components = {
            card: Card,
            guestbanner: GuestBanner,
        };

        export default BeroHome;
    </script>
</BeroHome>
